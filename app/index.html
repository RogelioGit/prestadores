 <style>    
#nuevoPForm input[type="text"]{    
        text-transform: uppercase;        
}
#nuevoPForm input[type="text"] input[type="number"]{    
        width: 100%;
}
.header:before {
    color: #A5A5A5;
    float: left;
}
.header:hover, .aui-toggler-header-expanded {
    background-color: #ddd;
}
.acordiontitulo{
    border-radius: 7px;
    padding-left: 10px;
}
#nuevoPForm{
    margin-right: 15px;
}
#element_to_pop_up{ 
    background-color:#fff;
    border-radius:15px;
    color:#000;
    display:none; 
    padding:20px;
    width:820px;
    height: 450px;
}
#loading_{    
    display: none;    
    width: auto;
    height: auto;
}

#records ul{
    display: -webkit-box;
}
#records ul li{
    padding: 5px;   
}
.modal_{
    background-color: #FFF;
    border-radius: 15px;
    color: #000;
    display: none;
    padding: 20px;
    width: 400px;
    height: 190px;
    font-size:large;
    text-align: center;
    padding-top: 50px;  
}

#error_{
    background-color: #F00;
    border-radius: 15px;
    color: #FFF;
    display: none;
    padding: 20px;
    width: 400px;
    height: 200px;
    font-size: large;
    text-align: center;
    padding-top: 10px;   
}
.descerror_{
    overflow: auto;
    height: 145px;
    font-size: smaller;
    border: 1px #FFF solid;
    border-radius: 6px;
    text-align: -webkit-left;
}
.b-close{
    cursor:pointer;
    position:absolute;
    right:10px;
    top:5px;
    font-size: large;
}
.b_titulo{
    top: 10px;
    left: 20px;
    font-weight: normal;
    color: #8d8d8d;
    font-size: 20px;
    font-weight: normal;    
}
.b_contenedor_modal{
overflow: auto;
height: 410px;
}

      #divTitulo{
        width:100%;
        padding-left: 50px;
      }
      table tr td{
        padding-left: 20px;
      }    
      #critsBusqueda{
        display: -webkit-box;
      }
      #critsBusqueda div{
        padding-left: 25px;
      }
      #btnBuscar{
        padding-top: 24px;
      }
      .datgeneralPrestador{
        display: -webkit-box;
      }
      .datgeneralPrestador div{
        padding-left: 20px;
      }
      ul li, h4{
      cursor:pointer;
      }
      .linkeditar{
      color:red;
      }
      .inputs{
        height: 30px;
        border-radius: 5px;
        width: 100%;
      }
      .td_60{
          width: 60px;
      }
      #formBuscador{
          display: -webkit-box;
      }
      .linkmaps{
          margin-left: 5%
      }
      .norecords_{
        padding-left: 5%;
        color: green;          
      }
</style>
    
<div  ng-app="web_App" ng-controller="prestadorespanelAXACtrl">
      
    <div id="myTab">
  	<ul class="nav nav-tabs">
            <li id="yui_css1"  class="active" ng-click="currentTp = '';currentTpl = templates[0].url;resetResult()"><a href="#tab-1">AUTO</a></li>
            <li id="yui_css2" ng-click="currentTp = '';currentTpl=templates[3].url;resetResult();fnHospitales();argsPrestadores.conEspecialidad='true'"><a href="#tab-2">SALUD</a></li>
            <li id="yui_css3" ng-click="currentTp = '';currentTpl=templates[8].url;resetResult();argsPrestadores.conEspecialidad='false'"><a href="#tab-3">AGENTE</a></li>
            <li id="yui_css4" ng-click="currentTp = '';currentTpl=templates[10].url;resetResult();getPais();getTiposdeServicio(9)"><a href="#tab-4">VIA</a></li>
  	</ul>

<div class="tab-content">
      
<!--      tab correspondiente a AUTOS-->
    <div id="tab-1" class="tab-pane">
        <ul class="nav control-panel-bar-secondary nav-pills" role="menubar">
            <li id="opc_1" class="active" role="presentation"  ng-click="currentTp='';currentTpl=templates[0].url;setTipoPrestador('4');resetResult();fnAutoConsentido()" >
            <a role="menuitem"> 
                <span class="nav-item-label"> Auto consentido </span>
            </a>
            </li> 
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[7].url;setTipoPrestador('5');resetResult();fnAutoConChofer()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Auto con chofer </span>
            </a>
            </li> 
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[1].url;setTipoPrestador('6');resetResult();fnTalleres()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Talleres </span>
            </a>
            </li>   
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[2].url;setTipoPrestador('7');resetResult()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Cristaleras </span>
            </a>
            </li>         
        </ul>  
    
        <br>
        <button class="btn btn-primary"  ng-click="mostrarBuscador = 'false';currentTp = currentTpl;restart();currentTpe = ''"> Nuevo Prestador </button>  	
        <button class="btn btn-primary"  ng-click="mostrarBuscador = 'true';currentTpe = currentTpl;currentTp='';getListaEstado();seColumns()" > Buscar Prestador </button>
        <br>                 
        
    </div>
    
<!--      tab correspondiente a SALUD-->
    <div id="tab-2">
    	<ul  class="nav control-panel-bar-secondary nav-pills" role="menubar">
            <li id="opc_2"  role="presentation" ng-click="currentTp='';currentTpl=templates[3].url;setTipoPrestador('0');argsPrestadores.conEspecialidad='true';resetResult();fnHospitales()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Hospitales</span>
            </a>
            </li> 
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[4].url;setTipoPrestador('1');resetResult();fnMedicos()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Médicos</span>
            </a>
            </li> 
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[5].url;setTipoPrestador('2');resetResult();fnModHospitalarios()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Módulos Hospitalarios</span>
            </a>
            </li>   
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[6].url;setTipoPrestador('3');resetResult();getEspecialidades('3');fnServAux();argsPrestadores.conEspecialidad='true'">
            <a role="menuitem"> 
                <span class="nav-item-label"> Servicios Auxiliares</span>
            </a>
            </li>         
   	</ul>        
		<br>
		<button class="btn btn-primary"  ng-click="mostrarBuscador = 'false'; currentTp = currentTpl;restart()"> Nuevo Prestador </button>  	
		<button class="btn btn-primary"  ng-click="mostrarBuscador = 'true';currentTpe = currentTpl;currentTp = '';getListaEstado();seColumns()"> Buscar Prestador </button>
		<br>
 </div>
 

<!--      tab correspondiente a AGENTES-->
<div id="tab-3" class="tab-pane">
    	<ul id="menuAgentes" class="nav control-panel-bar-secondary nav-pills" role="menubar">
            <li id="opc_3" class="active" role="presentation" ng-click="currentTp='';currentTpl=templates[8].url;setTipoPrestador('10');resetResult()">
            <a role="menuitem" > 
                <span class="nav-item-label"> Tiendas AXA </span>
            </a>
            </li> 
            <li role="presentation" ng-click="currentTp='';currentTpl=templates[9].url;setTipoPrestador('8');resetResult()">
            <a role="menuitem"> 
                <span class="nav-item-label"> Agentes </span>
            </a>
            </li>           
   	</ul>    
        <br>
        <button class="btn btn-primary"  ng-click="mostrarBuscador = 'false'; currentTp = currentTpl;restart();getRamos();currentTpe = ''"> Nuevo Prestador </button>  	
        <button class="btn btn-primary"  ng-click="currentTp = '';mostrarBuscador = 'true';currentTpe = currentTpl;getListaEstado();argsPrestadores.esAgentes='true';seColumns()"> Buscar Prestador </button>
        <br>   
</div>
    

<!--      tab correspondiente a VIAS-->
<div id="tab-4" class="tab-pane">	
        <br>
        <button class="btn btn-primary"  ng-click="mostrarBuscador = 'false';currentTp = currentTpl;restart();fnVias();currentTpe = ''"> Nuevo Prestador </button>  	
        <button class="btn btn-primary"  ng-click="mostrarBuscador = 'true';currentTpe = currentTpl;currentTp = '';getListaEstado();argsPrestadores.conEspecialidad='true';seColumns()"> Buscar Prestador </button>
        <br>
</div> 
</div>  
            
        <div ng-include src="currentTp" onload="iniciando()"></div>

<!--     Seccion de busqueda prestador-->
<div id="buscarPrestador" ng-if="mostrarBuscador">
    <br>
    <label>Criterios de búsqueda</label>
    <hr>
    <div id="critsBusqueda">
    <form id="formBuscador" name="formBuscador">
    <div id="critBusqueda_2">
        <label>Estado: * </label>
        <select  ng-required="true"  ng-change="prestadoresArgs.estado = selectedEstadosBusqueda.value" ng-model="selectedEstadosBusqueda" ng-options="opt as opt.label for opt in listaDeEstados">
	<option value="">Seleccione</option>
        </select>  
    </div>
    <div id="critBusqueda_3">
        <label>RFC:</label>
        <input type="text" ng-model="rfc" title="capture rfc del prestador"/>    
    </div>
    <div id="btnBuscar">
        <button type="button" class="btn btn-primary" data-ng-disabled='!formBuscador.$valid' ng-click="getListaPrestadores();iniciando()" >Aceptar</button>
    </div>
    </form>
<!-- Termina div de criterios de busqueda-->
</div>


<br>
    <div id="resultadosdeBusqueda">
        <div id="norecords" ng-if="!records" >
            <div class="norecords_" ng-bind=" 'No hay registros para mostrar...' " ></div>
        </div>
        <div id="records"  ng-if="records">
            <table ng-table="tableParams" class="table table-condensed table-bordered table-striped">
            <tr ng-repeat="row in data">
                <td data-title="'Nombre Común'" ng-bind="row.nombre" ></td>
                <td data-title="'RFC'" class="td_60" ng-bind="row.rfc"></td>
                <td data-title="'Razón social'" ng-bind="row.razonSocial"></td>                
                <td data-title="'Red de Preferencia'" ng-show="display.redPreferencia"  ng-bind="row.redPreferencia"></td>
                <td data-title="'Plan'" ng-show="display.plan" ng-bind="row.plan"></td>
                <td data-title="'Gama'" ng-show="display.gama" ng-bind="row.gama" ></td>
                <td data-title="'Horario'" >Hora 1: {{row.horarioAtencion1 || ''}} <br> Hora 2:{{row.horarioAtencion2 ||'' }} </td>
                <td data-title="'Email'" > <div ng-repeat="mail in row.emails">{{'Email '+ ($index+1)+': '+mail.email || '' }}<br></div>  </td>
                <td data-title="'Teléfono'" ><div ng-repeat="tel in row.direccion[0].telefonos">  {{'Tel '+($index+1)+': '+tel.numero || '' }}<br></div></td>
                <td data-title="'Dirección'" ng-bind="+row.direccion[0].estado +','+row.direccion[0].municipio+', CP:'+row.direccion[0].codigoPostal +', Colonia: '+row.direccion[0].colonia +', Calle:'+row.direccion[0].calle +', Num Ext. '+row.direccion[0].numeroExterior" ></td>
                <td data-title="'Editar'" class="td_60" >  <a ng-click="mostrarEditar(row)" class="linkeditar" >Editar</a> </td>
                <td data-title="'Eli...'" class="td_60" >  <a ng-click="fn_d(row.idPrestador)" >x</a> </td>
            </tr>
            </table>        
        </div>
    </div> 
 </div>      

<!--      modal para mostrar las datos de edicion-->
<div id="element_to_pop_up">
            <a class="b-close">X</a>                        
            <div class="b_contenedor_modal">		               
                <div ng-include src="currentTpe" ></div>                
            </div>                        
</div>
<div id="loading_">
    <img src="/documents/45516/49001/Esfera-Loading-62156.gif" alt="">
</div>
<div id="success_" class="modal_">
    <a class="b-close">X</a>    
    <p>Se realizó la operación correctamente</p> <br>
    <img src="/documents/45516/48801/succes.png" alt="">    
</div>

<div id="error_"  >
    <a class="b-close" style="color: #FFF" ng-click="fn_reserror()">X</a>
    <p>Ha ocurrido un error</p>
    <div class="descerror_">
        <p ng-bind="errores.errorCode"></p>
        <p ng-bind="errores.descriptionError"></p>        
        <p ng-bind="errores.description"></p>        
    </div>    
</div>
<div id="delete_" class="modal_">    
    <p> Eliminar</p>
    <p> ¿Seguro que desea continuar? </p>
    <div style="text-align: right;padding-top: 27px;">
        <button class="btn" ng-click="fn_c()" >Cancelar</button> 
        <button class="btn btn-primary"  ng-click="fn_del()" >Aceptar</button>
        
    </div>
</div>

<!--Termina el tag con id myTab-->
</div>
<!--Auto consentido-->    
<script type="text/ng-template" id="/view_A.html"> 
<br>
<label class="tituloPres">AUTO <img src="/documents/45516/48801/right164.png" /> Auto Consentido <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<br>
<form ng-init="getTiposdeServicio(4);getPais();" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                            <label class="control-label"> Tipo de Servicio:* </label>
                            <select name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>     
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100"/>
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
          <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Horario atención 1: *</label>
                            <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
                            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>    
    </div>
   
    <div>
                            <div class="form-group">
                                <label class="control-label"> Horario atención 2: </label>
                                <input ng-model="prestador.horarioAtencion2" type="text" />
                            </div>     
    </div>
    </div>  
  </div>


  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input  name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>
        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>    
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1:  </label>
                <input name="mail_1" ng-model="prestadorEmail[0].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2"  ng-model="prestadorEmail[1].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div>
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>    
</script>    
<!--Auto con chofer-->
<script type="text/ng-template" id="/view_BB.html" >
<br>
<label class="tituloPres">AUTO <img src="/documents/45516/48801/right164.png" /> Auto con chofer <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="getTiposdeServicio(5);getPais();" name="nuevoPForm">
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                            <label class="control-label"> Tipo de Servicio:* </label>
                            <select name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                            </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>     
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input  name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
          <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Horario atención 1: *</label>
                            <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
                            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>    
    </div>
   
    <div>
                            <div class="form-group">
                                <label class="control-label"> Horario atención 2: </label>
                                <input ng-model="prestador.horarioAtencion2" type="text" />
                            </div>     
    </div>
    </div>  
  </div>


  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input  name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input  name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>  
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1:  </label>
                <input name="mail_1" ng-model="prestadorEmail[0].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2"  ng-model="prestadorEmail[1].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div>
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid'  ng-click="savePrestador()" value="Guardar" />
</div>    
</form>       
</script>    
<!--Talleres-->
<script type="text/ng-template" id="/view_B.html" >
<br>
<label class="tituloPres">AUTO <img src="/documents/45516/48801/right164.png" /> Talleres <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="getTiposdeServicio(6);getPais()" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                    <label class="control-label"> Tipo de Servicio:* </label>
                    <select name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                    </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>     
        <br>
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input  name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Red de preferencia: *</label>
                            <select name="redPref" ng-change="prestador.redPreferencia = selectRedPreferencia.value" ng-model="selectRedPreferencia" ng-required="true"  ng-options="opt as opt.label for opt in listaRedPref">                                        
                                <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.redPref.$dirty &&  nuevoPForm.redPref.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>         
        <div class="form-group">
                            <label class="control-label"> Horario atención 1: *</label>
                            <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
                            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>    
    </div>
   
    <div>
                            <div class="form-group">
                                <label class="control-label"> Horario atención 2: </label>
                                <input ng-model="prestador.horarioAtencion2" type="text" />
                            </div>     
    </div>
    </div>  
  </div>


  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                  
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>  
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" ng-required="true" ng-model="prestadorEmail[0].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2"  ng-model="prestadorEmail[1].email" type="email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div>        
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>       
                 
</script>
<!--Cristaleras-->
<script type="text/ng-template" id="/view_C.html">    
<br>
<label class="tituloPres">AUTO <img src="/documents/45516/48801/right164.png" /> Cristaleras <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="load(7,7);" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>               
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50"/>                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Red de preferencia: *</label>
                            <select name="redPref" ng-change="prestador.redPreferencia = selectRedPreferencia.value" ng-model="selectRedPreferencia" ng-required="true"  ng-options="opt as opt.label for opt in listaRedPref">                                        
                                <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.redPref.$dirty &&  nuevoPForm.redPref.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>         
        <div class="form-group">
                            <label class="control-label"> Horario atención 1: *</label>
                            <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
                            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>    
    </div>
   
    <div>
                            <div class="form-group">
                                <label class="control-label"> Horario atención 2: </label>
                                <input ng-model="prestador.horarioAtencion2" type="text" />
                            </div>     
    </div>
    </div>  
  </div>
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                 
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>  
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
          <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>
</script>
<!--Hospitales-->
<script type="text/ng-template" id="/view_D.html">
<br>
<label class="tituloPres">SALUD <img src="/documents/45516/48801/right164.png" /> Hospitales <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="load(0,0);" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>               
        <div class="form-group">   
                            <label class="control-label"> Tipo de Servicio: * </label>
                            <select name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                            </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>
        <br>
        <div class="form-group"> 
        <label class="control-label">Especialidades:</label>
        </div>
        <br>
        <div ng-repeat="espe in listaDeEspecialidad" class="form-group">             
                <input ng-model="espe.chekeado" type="checkbox" />{{espe.descripcion}} <br>                                                       
        </div>  
        <br>
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true"/>
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Red de preferencia: *</label>
                            <select name="redPref" ng-change="prestador.redPreferencia = selectRedPreferencia.value" ng-model="selectRedPreferencia" ng-required="true"  ng-options="opt as opt.label for opt in listaRedPref">                                        
                                <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.redPref.$dirty &&  nuevoPForm.redPref.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>         
        <div class="form-group">
                            <label class="control-label"> Plan: *</label>
                            <input name="plan"  ng-model="prestador.plan" ng-required="true" type="text" maxlength="50" />
                            <div ng-show=" nuevoPForm.plan.$dirty &&  nuevoPForm.plan.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>                             
        </div>
        <div class="form-group">
                            <label class="control-label"> Gama: *</label>
                            <input name="gama" ng-model="prestador.gama" ng-required="true" type="text" maxlength="50" />
                            <div ng-show=" nuevoPForm.gama.$dirty &&  nuevoPForm.gama.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>                              
        </div>   
    </div>
   
    <div>
        <div class="form-group">
                <label class="control-label"> Horario atención 1: *</label>
                <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
                <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>         
        <div class="form-group">
                <label class="control-label"> Horario atención 2: </label>
                <input ng-model="prestador.horarioAtencion2" type="text" />
        </div>     
    </div>
    </div>  
  </div>
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                  
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
          <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>    
</script>
<!--Médicos-->
<script type="text/ng-template" id="/view_E.html">
<br>
<label class="tituloPres">SALUD <img src="/documents/45516/48801/right164.png" /> Médicos <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="getPais();getEspecialidades(1);" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>            
        <div class="form-group"> 
        <label class="control-label">Especialidades:</label>
        </div>
        <br>
        <div ng-repeat="espe in listaDeEspecialidad" class="form-group">             
                <input ng-model="espe.chekeado" type="checkbox" />{{espe.descripcion}} <br>                                                       
        </div>  
        <br>           
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
        <div class="form-group">
                            <label class="control-label"> Red de preferencia: *</label>
                            <select  name="redPref" ng-change="prestador.redPreferencia = selectRedPreferencia.value" ng-model="selectRedPreferencia" ng-required="true"  ng-options="opt as opt.label for opt in listaRedPref">                                        
                                <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.redPref.$dirty &&  nuevoPForm.redPref.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>    
        <div class="form-group">
                            <label class="control-label"> Plan: *</label>
                            <input  name="plan"  ng-model="prestador.plan" ng-required="true" type="text" maxlength="4" />
                            <div ng-show=" nuevoPForm.plan.$dirty &&  nuevoPForm.plan.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>                             
        </div>  
        <div class="form-group">
                            <label class="control-label"> Gama: *</label>
                            <input  name="gama" ng-model="prestador.gama" ng-required="true" type="text" maxlength="50" />
                            <div ng-show=" nuevoPForm.gama.$dirty &&  nuevoPForm.gama.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>                              
        </div>
    </div>
   
    <div>
        <div class="form-group">
            <label class="control-label"> Horario atención 1: *</label>
            <input name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>          
        <div class="form-group">
            <label class="control-label"> Horario atención 2: </label>
            <input ng-model="prestador.horarioAtencion2" type="text" />
        </div>     
    </div>
    </div>  
  </div>  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                 
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p> 
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>  
</script>
<!--módulos hospitalarios-->
<script type="text/ng-template" id="/view_F.html">
<br>
<label class="tituloPres">SALUD <img src="/documents/45516/48801/right164.png" /> Módulos Hospitalarios <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="load(2,'');" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                    <label class="control-label"> Tipo de Servicio:* </label>
                    <select  name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                    </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>                
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100"/>
        </div>
       
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>
        </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div>            
        <div class="form-group">
            <label class="control-label"> Horario atención 1: *</label>
            <input  name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>
        <div class="form-group">
            <label class="control-label"> Horario atención 2: </label>
            <input ng-model="prestador.horarioAtencion2" type="text" />
        </div>         
    </div>
    </div>  
  </div>
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                  
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>  
</script>
<!--Servicios Auxiliares-->
<script type="text/ng-template" id="/view_G.html">
<br>
<label class="tituloPres">SALUD <img src="/documents/45516/48801/right164.png" /> Servicios Auxiliares <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="load(3,'');" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                    <label class="control-label"> Tipo de Servicio:* </label>
                    <select  name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                    </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>  
        <br>
        <div class="form-group"> 
        <label class="control-label">Especialidades:</label>
        </div>
        <br>
        <div ng-repeat="espe in listaDeEspecialidad" class="form-group">             
                <input ng-model="espe.chekeado" type="checkbox" />{{espe.descripcion}} <br>                                                       
        </div>  
        <br>          
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>       
       
        </div>    
   
        <div>
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div>            
        <div class="form-group">
            <label class="control-label"> Horario atención 1: *</label>
            <input  name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>
        <div class="form-group">
            <label class="control-label"> Horario atención 2: </label>
            <input ng-model="prestador.horarioAtencion2" type="text" />
        </div>         
    </div>
    </div>  
  </div>
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                  
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>     
</script> 
<!--Tiendas AXA-->
<script type="text/ng-template" id="/view_H.html">
<br>
<label class="tituloPres">AGENTE <img src="/documents/45516/48801/right164.png" /> Tiendas AXA <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="getPais()" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>           
        <div class="form-group">
                                <label class="control-label"> Nombre común:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>       
        <div class="form-group">
                            <label class="control-label">Número de agente: * </label>
                            <input ng-required="true"  ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div> 
    </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Red de preferencia: *</label>
                            <select  name="redPref" ng-change="prestador.redPreferencia = selectRedPreferencia.value" ng-model="selectRedPreferencia" ng-required="true"  ng-options="opt as opt.label for opt in listaRedPref">                                        
                                <option value="">Seleccione</option>
                            </select>
                            <div ng-show="nuevoPForm.redPref.$dirty &&  nuevoPForm.redPref.$invalid" class="alert alert-error" ng-bind="camposrequeridos" >                           
                            </div>                             
        </div>     
        <div class="form-group">
            <label class="control-label"> Horario atención 1: * </label>
            <input  name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>
        <div class="form-group">
            <label class="control-label"> Horario atención 2: </label>
            <input  name="h2" ng-model="prestador.horarioAtencion2" type="text" />
            <div ng-show="nuevoPForm.h2.$dirty &&  nuevoPForm.h2.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>
        </div>         
    </div>
        <div class="form-group">
            <label class="control-label"> Ramos: </label>                                                      
        </div>         
        <div class="form-group" >
        <div ng-repeat="op in listaRamosAgentes">
            <input type="checkbox"    ng-model="op.selected"/> {{op.descripcion}}    
        </div>
        <br>
        </div>        
    </div>  
  </div>  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                  
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
      <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>     
</script>
<!--Agentes-->
<script type="text/ng-template" id="/view_I.html">
<br>
<label class="tituloPres">AGENTE <img src="/documents/45516/48801/right164.png" /> Agentes <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form ng-init="getPais()" id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>          
        <div class="form-group">
                                <label class="control-label"> Nombre:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
        <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13" />
        </div>       
    </div>    
   
    <div>
        <div class="form-group">
                            <label class="control-label"> Número de agente: * </label>
                            <input ng-required="true" ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div>      
        <div class="form-group">
            <label class="control-label"> Horario atención 1: * </label>
            <input  name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>
        <div class="form-group">
            <label class="control-label"> Horario atención 2:  </label>
            <input  name="h2" ng-model="prestador.horarioAtencion2" type="text" />
            <div ng-show="nuevoPForm.h2.$dirty &&  nuevoPForm.h2.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>
        </div>         
    </div>
        <div class="form-group">
                            <label class="control-label"> Ramos: </label>                                                      
        </div> 
        
        <div class="form-group" >
        <div ng-repeat="op in listaRamosAgentes">
            <input type="checkbox" ng-model="op.selected" /> {{op.descripcion}}    
        </div>
        <br>
        </div>        
    </div>  
  </div>
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                 
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>      
</script>
<!--Vias-->
<script type="text/ng-template" id="/view_J.html">
<br>
<label class="tituloPres">VIA <img src="/documents/45516/48801/right164.png" /> Ventanilla Integral de Atención <img src="/documents/45516/48801/right164.png" /> {{operacion}}</label>
<hr>
<form   id="nuevoPForm" name="nuevoPForm" novalidate>
<div id="nuevoToggler">
  <h4 class="header toggler-header-collapsed acordiontitulo">Datos Generales Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
    <div>
        <div class="form-group">   
                    <label class="control-label"> Tipo de Servicio:* </label>
                    <select  name="tipServ" ng-change="prestador.idTipoServicio = modelTipoServicio.value" ng-required="true" 
                                    ng-model="modelTipoServicio" ng-options="opt.label for opt in listaTipoServicio" >                                            
                                            <option value="">Seleccione</option>
                    </select>
                    <div ng-show="nuevoPForm.tipServ.$dirty &&  nuevoPForm.tipServ.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>  
        <br>
        <div class="form-group"> 
        <label class="control-label">Especialidades:</label>
        </div>
        <br>
        <div ng-repeat="espe in listaDeEspecialidad" class="form-group">             
                <input ng-model="espe.chekeado" type="checkbox" />{{espe.descripcion}} <br>                                                       
        </div>  
        <br>
        <div class="form-group">
                                <label class="control-label"> Nombre Común:* </label>
                                <input   name="nomcomun" type="text" ng-model="prestador.nombre" ng-required="true" maxlength="100" />
                                <div ng-show="nuevoPForm.nomcomun.$dirty &&  nuevoPForm.nomcomun.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
        </div>       
      
    </div>    
   
    <div>
            <div class="form-group">
                                <label class="control-label">Razón social:</label>
                                <input ng-model="prestador.razonSocial" type="text" maxlength="100" />
        </div>
        <div class="form-group">
                                <label class="control-label"> RFC: </label>
                                <input ng-model="prestador.rfc" type="text" maxlength="13"/>
        </div> 
        <div class="form-group">
                            <label class="control-label"> Id proveedor AXA:</label>
                            <input ng-model="prestador.noAgente" type="text" maxlength="50" />                             
        </div>      
        <div class="form-group">
            <label class="control-label"> Horario atención 1: * </label>
            <input  name="h1" ng-model="prestador.horarioAtencion1" ng-required="true" type="text" />
            <div ng-show="nuevoPForm.h1.$dirty &&  nuevoPForm.h1.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>                             
        </div>        
    </div>    
    <div>
        <div class="form-group">
            <label class="control-label"> Horario atención 2:  </label>
            <input  name="h2"  ng-model="prestador.horarioAtencion2" type="text" />
            <div ng-show="nuevoPForm.h2.$dirty &&  nuevoPForm.h2.$invalid" class="alert alert-error" ng-bind="camposrequeridos" ></div>
        </div> 
    </div>
    </div>  
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Dirección Prestador</h4>
  <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Pais: *</label>
                <select  name="pais_" ng-change="prestadorDireccion[0].pais = modelPais.value; getListaEstado()" ng-required="true" ng-model="modelPais" ng-options="opt as opt.label for opt in Listapais">
                    <option value="">Seleccione</option>                        
                </select>
                <div ng-show="nuevoPForm.pais_.$dirty &&  nuevoPForm.pais_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Estado: *</label>                
                <select  name="estado_" ng-change="prestadorDireccion[0].idEstado = selectedEstados.value; getListaDelegacion(selectedEstados.value);" 
                        ng-required="true" ng-model="selectedEstados" ng-options="opt as opt.label for opt in listaDeEstados">
                    <option value="">Seleccione</option>                    
                </select>
                <div ng-show="nuevoPForm.estado_.$dirty &&  nuevoPForm.estado_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">
                <label class="control-label">Delegación o Municipio: * </label>                
                <select  name="delegacion_" ng-change="prestadorDireccion[0].idMunicipio = modelEstado.value" ng-required="true" 
                        ng-model="modelEstado" ng-options="opt as opt.label for opt in listaDelegaciones">
                    <option value="">Seleccione</option>                    
                </select> 
                <div ng-show="nuevoPForm.delegacion_.$dirty &&  nuevoPForm.delegacion_.$invalid" class="alert alert-error" ng-bind="camposrequeridos"></div>
            </div>
            <div class="form-group">            
                <label class="control-label"> Codigo Postal: *</label>                
                <input   name="cp" ng-model="prestadorDireccion[0].codigoPostal" ng-required="true" type="number" min="0" maxlength="5" max="99999" /> 
                <div ng-show="nuevoPForm.cp.$dirty && nuevoPForm.cp.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>            
        </div>
        
        <div>
            <div class="form-group">
                <label class="control-label"> Colonia: * </label>                
                <input   name="colonia" ng-model="prestadorDireccion[0].colonia"  ng-required="true" type="text" maxlength="100"/>
                <div ng-show="nuevoPForm.colonia.$dirty && nuevoPForm.colonia.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>
            </div>
            <div class="form-group">
                <label class="control-label"> Calle: * </label>                
                <input  name="calle" ng-model="prestadorDireccion[0].calle" ng-required="true" type="text" maxlength="100"/>     
                <div ng-show="nuevoPForm.calle.$dirty && nuevoPForm.calle.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label"> Numero exterior: * </label>
                <input name="numexterior"  ng-model="prestadorDireccion[0].numeroExterior" ng-pattern="/^(\d)+$/" ng-required="true" type="text" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numexterior.$error.pattern">Sólo numero, porfavor.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.numexterior.$dirty && nuevoPForm.numexterior.$error.required" ng-bind="camposrequeridos"></p>                 
            </div>  
            <div class="form-group">
                <label class="control-label"> Numero interior: </label>                
                <input type="text" name="numinte" ng-model="prestadorDireccion[0].numeroInterior" ng-pattern="/^(\d)+$/" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.numinte.$error.pattern">Sólo numero, porfavor.</p>
            </div>            
        </div>

        <div>
            <div class="form-group">
                <label class="control-label">Latitud: *</label>                
                <input  name="lat" ng-model="prestadorDireccion[0].latitud" ng-required="true" type="number"  maxlength="50"/>  
                <div ng-show="nuevoPForm.lat.$dirty && nuevoPForm.lat.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                     
                </div>                
            </div>
            <div class="form-group">
                <label class="control-label">Longitud: *</label>                
                <input  name="longit" ng-model="prestadorDireccion[0].longitud" ng-required="true" type="number" maxlength="50"/>     
                <div ng-show="nuevoPForm.longit.$dirty && nuevoPForm.longit.$invalid" class="alert alert-error" ng-bind="camposrequeridos">                    
                </div>                 
            </div>
        </div>     
    </div>
    <div class="linkmaps">
    Consulta <a href="https://support.google.com/maps/answer/18539?hl=es" target="_blank">aquí</a> cómo obtener las coordenadas de latitud y longitud
    </div>      
  </div>
  
  <h4 class="header toggler-header-collapsed acordiontitulo">Teléfono Prestador </h4>
  <div class="content toggler-content-collapsed">
  <div class="datgeneralPrestador">
    <div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 1: *</label>
         <input type="text" name="tel1" ng-change="prestadorTelefono[0].tipoTelefono = 'Oficina'" ng-required="true" ng-model="prestadorTelefono[0].numero"   ng-pattern="/^(\d)+$/" maxlength="10"/>
         <p class="alert" ng-show="nuevoPForm.tel1.$error.pattern">Sólo numero, porfavor.</p>
         <p class="alert alert-error" ng-show="nuevoPForm.tel1.$dirty && nuevoPForm.tel1.$error.required" ng-bind="camposrequeridos"></p>
         <label class="control-label">Ext:</label>
         <input type="text" name="exte" ng-pattern="/^(\d)+$/" ng-model="prestadorTelefono[0].extension"  maxlength="4"/>
         <p class="alert" ng-show="nuevoPForm.exte.$error.pattern">Sólo numero, porfavor.</p>
        </div>
        <div class="form-group"> 
         <label class="control-label">Teléfono 2: </label>
         <input name="tel2" type="text" ng-change="prestadorTelefono[1].tipoTelefono = 'Oficina'" ng-model="prestadorTelefono[1].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel2.$error.pattern">Sólo numero, porfavor.</p>
        </div>   
        <div class="form-group"> 
         <label class="control-label">Celular: </label>
         <input name="tel3" type="text" ng-change="prestadorTelefono[2].tipoTelefono = 'Celular'" ng-model="prestadorTelefono[2].numero"  ng-pattern="/^(\d)+$/"  maxlength="10" />
         <p class="alert" ng-show="nuevoPForm.tel3.$error.pattern">Sólo numero, porfavor.</p>
        </div>        
    </div>
  </div>
  </div>
  
    <h4 class="header toggler-header-collapsed acordiontitulo">Mail Prestador </h4>
    <div class="content toggler-content-collapsed">
    <div class="datgeneralPrestador">
        <div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 1: * </label>
                <input name="mail_1" type="email" ng-required="true" ng-model="prestadorEmail[0].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_1.$error.email">Email incorrecto.</p>
                <p class="alert alert-error" ng-show="nuevoPForm.mail_1.$error.required && nuevoPForm.mail_1.$dirty" ng-bind="camposrequeridos"></p>
            </div>
            <div class="form-group">
                <label class="control-label">Correo electrónico 2: </label>
                <input name="mail_2" type="email" ng-model="prestadorEmail[1].email" maxlength="50"/>
                <p class="alert" ng-show="nuevoPForm.mail_2.$error.email">Email incorrecto.</p>
            </div>            
        </div> 
    </div>
    </div>
</div>    
 
<div  style="padding-left: 80%;">
        <input class="btn btn-primary" type="submit" data-ng-disabled='!nuevoPForm.$valid' ng-click="savePrestador()" value="Guardar" />
</div>    
</form>      
</script>
</div>
<!-- Termina contenedor del controlador-->
    <!-- bower:js -->
    <script src="/documents/45516/45726/angular.min.js"></script>
    <script src="/documents/45516/45726/angular-animate.min.js"></script>
    <script src="/documents/45516/45726/angular-cookies.min.js"></script>
    <script src="/documents/45516/45726/angular-resource.min.js"></script>
    <script src="/documents/45516/45726/angular-route.min.js"></script>
    <script src="/documents/45516/45726/angular-sanitize.min.js"></script>
    <script src="/documents/45516/45726/angular-touch.min.js"></script>
    <script src="/documents/45516/45726/ng-table.min.js"></script>    
    <script src="/documents/45516/45726/jquery.bpopup.min.js"></script>
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <!--    <script src="/documents/45516/45726/app.js"></script>-->
    <!-- <script src="/documents/45516/45726/prestadores-controller.js"></script>-->
    <!-- endbuild -->
    <script>
        var app = angular.module('web_App', ['ngCookies','ngResource','ngRoute','ngSanitize','ngTable','ngAnimate']);
        
        app.service("prestadorModel", function(){
	this.getPrestador = function(){
            return {
                        "idPrestador":"",
			"nombre":"",
			"descPrestador":"",
			"horarioAtencion1":"",
			"horarioAtencion2":"",
			"redPreferencia":"",
			"plan":"",
			"gama":"",
			"userName":"Adminrdg",
			"razonSocial":"",
			"rfc":"",
			"noAgente": "", 
			"idTipoPrestador":"",
			"tipoPrestador":"",
			"tipoServicio":"",
			"idTipoServicio":"",
                        "idTipoServicioBack":"",
			"cveEstatus":"",			
			"especialidad":[],
			"direccion":[],
			"emails":[],
			"agenteRamos":[]
                    };
	};
	
        this.getDireccion = function(){
            return [{
                        "idDireccion" :"",
			"idPrestador" :"",                        
			"pais" :"",			
			"idEstado" :"",
			"estado" :"",
			"idMunicipio" :"",
			"municipio" :"",
			"descripcion" :"",
			"latitud" :0,
			"longitud" :0,
			"codigoPostal" :0,
			"numeroInterior" :"",
			"numeroExterior" :"",
			"colonia" :"",
			"calle" :"",
			"userName" :"",
			"tipoDireccion" :"1",		
			"telefonos":[]
                }];
	};
        
	this.getEmails = function(){
            return [{"idEmail":"","idPrestador":"","email":""},{"idEmail":"","idPrestador":"","email":""}];
	};
        
	this.getTelefono = function(){
            return [
                {"idPrestadorTelefono":"","idDireccion":"","numero":"","tipoTelefono":"","extension":""},
                {"idPrestadorTelefono":"","idDireccion":"","numero":"","tipoTelefono":"","extension":""},
                {"idPrestadorTelefono":"","idDireccion":"","numero":"","tipoTelefono":"","extension":""}];
	};            
        });
        
        app.controller('prestadorespanelAXACtrl',['$scope','$http','$filter','$q','ngTableParams','prestadorModel',
        function ($scope,$http, $filter, $q, ngTableParams,prestadorModel) {            
            $scope.camposrequeridos = '¡Requerido!';                      
            $scope.argsPrestadores = {editar:true,conEspecialidad:false,esAgentes:false,prestadoresArgs:{}};
            $scope.fn_reserror = function(){$scope.errores = {success:'',description:'',errorCode:'',descriptionError:''};};            
            $scope.fn_reserror();            
            var $editando = null;
            //objeto para almacenar la informacion del prestador(prestadorVo)            
            $scope.restart = function(){
                $scope.operacion = 'Nuevo Prestador'
                $scope.records = false;
                $scope.editar = false;                                 
                $scope.prestador = prestadorModel.getPrestador();            
                $scope.prestadorDireccion = prestadorModel.getDireccion();             
                $scope.prestadorTelefono = prestadorModel.getTelefono();            
                $scope.prestadorEmail = prestadorModel.getEmails();                                     
                $scope.listaDelegaciones = [];
                $scope.listaDeEstados = [];
                $scope.selectRedPreferencia = null;
            };            
            $scope.restart();            
            $scope.args = {};                
            $scope.listaRedPref = [{label:'SI',value:'SI'},{label:'NO',value:'NO'}];
            //Claves para la consulta de catalogos                     
            $scope.catalogos = [{name:'CATPAIS'},{name:'CATESTADO'},{name:'CATMUNICIPIO'},{name:'CATTIPOESPECIALIDAD'},{name:'CATIPOPRESTADOR'},{name:'CATTIPOSERVICIO'},{name:'CATRAMO'}];
            $scope.listaRamos =[{ramo:'AUTOS'},{ramo:'SALUD'},{ramo:'AGENTE'},{ramo:'VIA'}];            
            $scope.metodo = [{type:'POST'},{type:'GET'}];
            $scope.display = {redPreferencia:false,plan:false,gama:false};
            //url para las peticiones
            $scope.rutas = [
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/getCatalogosRequest'},
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/getPrestadoresServicio'},
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/saveOrUpdatePrestadores'},
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/getRamosRequest'},
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/getEspecialidadesRequest'},
                {url:'http://10.133.13.96:8080/PrestadoresAxaServices/rest/prestadoresServicio/deltePrestadores'}];            
            //Lista tipo de prestador
            $scope.lTP = [{tp:'HOSPITALES'},{tp:'MEDICOS'},{tp:'MODULOS HOSPITALARIOS'},{tp:'SERVICIOS AUXILIARES'},{tp:'AUTO CONSENTIDO'},{tp:'AUTO CON CHOFER'},{tp:'TALLERES'},{tp:'CRISTALERAS'},{tp:'AGENTES'},{tp:'VIAS'},{tp:'TIENDAS AXA'}];                                    
            $scope.prestadoresArgs ={estado:'',delegacionMunicipio:'',nombreComun:'',especialidad:'',tipoPrestador:'',rfc:''};                        		   
            $scope.selectedTipoPrestador = [];                                             
            $scope.templates=[{url: '/view_A.html'},{url: '/view_B.html'},{url: '/view_C.html'},{url: '/view_D.html'},{url: '/view_E.html'},{url: '/view_F.html'},{url: '/view_G.html'},{url: '/view_BB.html'},{url: '/view_H.html'},{url: '/view_I.html'},{url: '/view_J.html'}];         
            $scope.listaTipoPrestadores = [];                        
            $scope.getTipoPrestadores = function(){
            $scope.args = {};    
            $scope.args.cveCatalogo=$scope.catalogos[4].name; 
            try{
                $http({ 
                    method:$scope.metodo[0].type,
                    data:  $scope.args,
                    url :  $scope.rutas[0].url
                }).success(function(data){
                    $scope.listaTipoPrestadores = data.listaCatalogos;
                    $scope.setTipoPrestador(4);
                    console.log('obteniendo lista de tipos de prestador');
                });
            }catch(e){
                console.log('Error al consultar tipos de prestador'); 
            }  
            };
        //Consultar los tipos de prestador al cargar la pagina
        $scope.getTipoPrestadores();        
        //Por default al iniciar se carga el template de nuevo prestador para auto consentido        
        $scope.currentTpl = $scope.templates[0].url;
        $scope.setTipoPrestador = function (cvTipPrestador){
            //Cuando se abre la pagina de administración se muestra por default el ramo AUTOS con el tipo de prestador 
            //como auto consentido 
            if(cvTipPrestador !== ''){
                var $tipoPredorId = $filter('filter')($scope.listaTipoPrestadores,{label : $scope.lTP[cvTipPrestador].tp},true);
                $scope.tempIdTipoPrestador = $tipoPredorId[0].value;
                console.log('cve: '+$tipoPredorId[0].value+' label: '+$tipoPredorId[0].label);
            }
        };
        $scope.listaEspecialidades = [];
        $scope.setEspecialidades = function(val){
            if(val !=='' && val !==' '){     
                console.log('seteando una especialidad['+val);
                $scope.listaEspecialidades.push({value:val,label:''});
            }
        };                                                                                
        $scope.mostrarLoading = function(){$('#loading_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});};        
        $scope.mostrarSucces = function (){$('#success_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});};        
        $scope.mostrarError = function (){$('#error_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});};        

    $scope.getEspecialidades = function(pos){         
        $scope.args = {idTipoPrestador:$scope.lTP[pos].tp};            
        try{
            $http({ 
                method:$scope.metodo[0].type,
                data:  $scope.args,
                url :  $scope.rutas[4].url
            }).success(function(data){
                $scope.listaDeEspecialidad = data.listaEspecialidades;
                console.log('obteniendo lista de especialidades');
            });        
        }catch(e){
            console.log('Error en la petición de especialidades');
        }           
    };

//recibe el index para el tipo de prestador buscado (estos valores ya son estaticos)
$scope.getTiposdeServicio = function(pos){
    if(pos !== '' || pos !== ' '){        
        $scope.args = {};
        $scope.args.catalogoDominio = $scope.lTP[pos].tp;
        $scope.args.cveCatalogo=$scope.catalogos[5].name;  
        try{
            $http({ 
                method:$scope.metodo[0].type,
                data:  $scope.args,
                url :  $scope.rutas[0].url
            }).success(function(data){
                $scope.listaTipoServicio = data.listaCatalogos;
                console.log('obteniendo lista de tipos de servicio');
            });        
        }catch(e){
            console.log('Error en la petición de tipos de servicio');
        }   
    }
};

$scope.getPais = function(){
    $scope.args = {};
    $scope.args.cveCatalogo=$scope.catalogos[0].name;  
    try{
        $http({ 
            method:$scope.metodo[0].type,
            data:  $scope.args,
            url :  $scope.rutas[0].url
        }).success(function(data){
            $scope.Listapais = data.listaCatalogos;
            console.log('obteniendo lista de pais');
        });        
    }catch(e){
        console.log('Error en la petición de lista de pais');
    }
};

$scope.getListaEstado = function (){
    $scope.args = {};
    $scope.args.cveCatalogo=$scope.catalogos[1].name; 
    
    try{
        $http({
            method :$scope.metodo[0].type,
            data:   $scope.args,
            url :   $scope.rutas[0].url
        }).success(function(data){            
            if(data.estatus.success){
                $scope.listaDeEstados = data.listaCatalogos;
                if($scope.editar){
                    var $estado = $filter('filter')($scope.listaDeEstados,{value: $scope.prestadorDireccion[0].idEstado},true);
                    $scope.selectedEstados = $estado[0];
                }
            }                                              
            console.log('obteniendo datos de estados');            
        });        
    }catch(e){
        console.log('Error al consultar estados');
    }    
};

$scope.getListaDelegacion = function(idestado){
    if(idestado !== '' || idestado !== ' '){
        $scope.args = {};
        $scope.args.catalogoDominio = idestado;
        $scope.args.cveCatalogo=$scope.catalogos[2].name; 
        try{
        $http({
            method :$scope.metodo[0].type,
            data: $scope.args,
            url :$scope.rutas[0].url
        }).success(function(data){            
            if(data.estatus.success){
                $scope.listaDelegaciones = data.listaCatalogos;
                if($scope.editar){
                    var $delegacion = $filter('filter')($scope.listaDelegaciones,{value: $scope.prestadorDireccion[0].idMunicipio},true);
                    $scope.modelEstado = $delegacion[0];
                }
            }            
            console.log('obteniendo datos de delegacion');
        }); 
        }catch(e){
            console.log('Error al consultar delegaciones');
        }
    }
};
$scope.listaRamosAgentes =[];
$scope.getRamos = function(){
        $scope.args = {agente:$scope.listaRamos[2].ramo,via:$scope.listaRamos[3].ramo};        
        $scope.args.cveCatalogo=$scope.catalogos[6].name; 
        try{
            $http({
                method :$scope.metodo[0].type,
                data: $scope.args,
                url :$scope.rutas[3].url
            }).success(function(data){
                $scope.listaRamosAgentes = data.listaRamos;
                console.log('obteniendo datos de ramos');
            }); 
        }catch(e){
            console.log('Error al consultar ramos');
        }        
};

$scope.savePrestador = function(){
    try{
        $scope.prestadorDireccion[0].telefonos = $scope.prestadorTelefono;
        $scope.prestador.direccion = $scope.prestadorDireccion;
        $scope.prestador.idTipoPrestador = $scope.tempIdTipoPrestador;
        $scope.prestador.emails = $scope.prestadorEmail; 
        $scope.prestador.especialidad = $scope.listaDeEspecialidad;
        $scope.prestador.agenteRamos = $scope.listaRamosAgentes;
        $scope.args = {upsertPrestador: $scope.prestador};
        
        console.log($scope.args);
        var $bPopup = $('#loading_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});
        
        $http({
            method:$scope.metodo[0].type,
            data:  $scope.args,
            url :  $scope.rutas[2].url
        }).success(function(data){   
            $bPopup.close(); 
            if($editando !== null){
                $editando.close();
            }
            if(data.estatus.success){              
                $scope.currentTp = '';
                $scope.mostrarSucces();                
            }else{                
                $scope.errores = data.estatus;
                $scope.mostrarError();
            }                 
            console.log(data);            
        });        
    }catch(e){
        console.log('Error al guardar informacion');
    }
};


$scope.listaPrestadores=[];     
$scope.tableParams = new ngTableParams({
                    page: 1,
                    count: 10
                }, {
                    total: $scope.listaPrestadores.length, 
                    getData: function ($defer, params) {
                        $scope.data = $scope.listaPrestadores.slice((params.page() - 1) * params.count(), params.page() * params.count());
                        $defer.resolve($scope.data);
                }
}); 

$scope.getListaPrestadores = function (){
//Asigna valores de los criterios de busqueda seleccionados
    $scope.prestadoresArgs.tipoPrestador = $scope.tempIdTipoPrestador;    
    $scope.prestadoresArgs.rfc = $scope.rfc;       
    $scope.argsPrestadores.prestadoresArgs = $scope.prestadoresArgs;
    console.log('cveTipoPrestador:' + $scope.prestadoresArgs.tipoPrestador + 'cveEstado:' +$scope.prestadoresArgs.estado+ 'rfc:' + $scope.rfc);
    try{
        var cargando = $('#loading_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});
        $http({
            method:$scope.metodo[0].type,
            data:  $scope.argsPrestadores,
            url :  $scope.rutas[1].url
        }).success(function(data){            
            if(data.estatus.success){
                $scope.listaPrestadores = data.prestadorServicio;  
                $scope.tableParams.total($scope.listaPrestadores.length);
                $scope.tableParams.reload();                        
                $scope.records = true;
            }else{
                $scope.records = false;
            }            
            cargando.close();                          
            //$scope.tableParams = new ngTableParams({},{dataset: $scope.listaPrestadores});            
            console.log('datos a tablas insertados' );
        });	        
    }catch(e){
        console.log('error en get prestadores');
    }	  
};
$scope.seColumns = function(){ 
    $scope.selectedEstadosBusqueda = null;    
    $scope.records = false;        
};
$scope.load = function (indA,indB){
            $scope.getTiposdeServicio(indA);//indA:id del tipo de prestador para traer los tipos de servicio relacionado a un tipo de prestador
            $scope.getPais();       
            if(!$scope.editar && indB !== ''){
                $scope.getEspecialidades(indB);
            }
};
$scope.mostrarEditar = function(p){            
            $scope.operacion = 'Editar Prestador';
            $scope.editar = true;            
            console.log(p);
            $scope.prestador = p; 
            $scope.prestador.userName = "adminEdit";
            $scope.prestadorDireccion = p.direccion;                        
            $scope.prestadorTelefono = prestadorModel.getTelefono();            
            $scope.prestadorEmail = prestadorModel.getEmails(); 
            if(p.agenteRamos !== null){
             $scope.listaRamosAgentes = p.agenteRamos;
            }                        
            if(p.direccion[0].telefonos !== null && p.direccion[0].telefonos.length > 0){                
                $scope.prestadorTelefono[0] = p.direccion[0].telefonos[0];                                              
                if(p.direccion[0].telefonos.length === 1 ){
                    $scope.prestadorTelefono[1] = $scope.prestadorTelefono[1];
                    $scope.prestadorTelefono[2] = $scope.prestadorTelefono[2];
                }else if(p.direccion[0].telefonos.length === 2){
                    $scope.prestadorTelefono[1] = p.direccion[0].telefonos[1];
                    $scope.prestadorTelefono[2] = $scope.prestadorTelefono[2];
                }else if(p.direccion[0].telefonos.length >= 3){
                    $scope.prestadorTelefono[1] = p.direccion[0].telefonos[1];
                    $scope.prestadorTelefono[2] = p.direccion[0].telefonos[2];
                }
            }                             
            if(p.emails !== null && p.emails.length > 0){
                $scope.prestadorEmail[0] = p.emails[0];
                if(p.emails.length === 1 ){                    
                    $scope.prestadorEmail[1] = $scope.prestadorEmail[1];
                }else if(p.emails.length >= 2){
                    $scope.prestadorEmail[1] = p.emails[1];
                }
            }                       
            $scope.listaDeEspecialidad =p.especialidad;            
            console.log($scope.prestador);
            if(p.idTipoServicio !== null){
                var $tipoServicio = $filter('filter')($scope.listaTipoServicio,{value: p.idTipoServicio},true); 
                if($tipoServicio !== null && $tipoServicio !== ''){
                    $scope.modelTipoServicio = $tipoServicio[0];
                }    
            }                                    
            if(p.redPreferencia !== null){
                var $redPreferencia = $filter('filter')($scope.listaRedPref,{value: p.redPreferencia},true); 
                $scope.selectRedPreferencia = $redPreferencia[0];
            }             
            var $pais = $filter('filter')($scope.Listapais,{value: p.direccion[0].pais},true); 
            $scope.modelPais = $pais[0];            
            $scope.getListaEstado();
            var $idEstado = $scope.prestadorDireccion[0].idEstado;
            console.log('ID_ESTADO'+$idEstado);
            var $lat = p.direccion[0].latitud;
            var $lon = p.direccion[0].longitud;
            var $cp = p.direccion[0].codigoPostal;
            $scope.prestadorDireccion[0].latitud = parseFloat($lat);
            $scope.prestadorDireccion[0].longitud = parseFloat($lon);
            $scope.prestadorDireccion[0].codigoPostal = parseFloat($cp);
            $scope.getListaDelegacion($idEstado);            
            $editando = $('#element_to_pop_up').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});
}; 
var $rodatersp='';
$scope.fn_d = function (idPrestador){
    $('#delete_').bPopup({modalClose: false,opacity: 0.3,positionStyle: 'fixed'});
    $rodatersp = idPrestador;
};
$scope.fn_c = function (){
    $('#delete_').bPopup().close();
};
$scope.fn_del = function(){    
    if($rodatersp !== null && $rodatersp !== ''){
        try{
        $scope.args = {prestadorId:$rodatersp};    
        $http({
            method:$scope.metodo[0].type,
            data:$scope.args,
            url :$scope.rutas[5].url
        }).success(function(data){            
            $scope.fn_c();
            console.log(data);
            if($scope.callback.success){
                $scope.mostrarSucces();
            }else{
                $scope.errores = data.callback;
                $scope.mostrarError();
            }
        });            
        }catch(e){
            console.log('Error al eliminar un usuario')
        }
    }
};
$scope.resetResult = function(){    
    $scope.mostrarBuscador = false;
};
$scope.fnAutoConsentido = function(){$scope.display = {redPreferencia:false,plan:false,gama:false};};
$scope.fnAutoConChofer = function(){$scope.display = {redPreferencia:false,plan:false,gama:false};};
$scope.fnTalleres = function(){$scope.display = {redPreferencia:true,plan:false,gama:false};};
$scope.fnCristaleras = function(){$scope.display = {redPreferencia:true,plan:false,gama:false};};
$scope.fnHospitales = function(){$scope.display = {redPreferencia:true,plan:true,gama:true};};
$scope.fnMedicos = function(){$scope.display = {redPreferencia:true,plan:true,gama:true};}
$scope.fnModHospitalarios = function(){$scope.display = {redPreferencia:false,plan:false,gama:false};};
$scope.fnServAux= function(){$scope.display = {redPreferencia:false,plan:false,gama:false};};
$scope.fnVias = function(){
    $scope.display = {redPreferencia:false,plan:false,gama:false};
    $scope.seColumns();   
    $scope.modelTipoServicio = null;
    $scope.modelPais = null;
    $scope.getEspecialidades(9);
};

$scope.iniciando = function(){
    console.log("reiniciando el controller..");  
    YUI().use('aui-toggler',function(Y) { new Y.TogglerDelegate({ animated: true, closeAllOnExpand: true, container: '#nuevoToggler', content: '.content', expanded: false, header: '.header', transition: {duration: 0.2,easing: 'cubic-bezier(0, 0.1, 0, 1)'} });}); 
    $scope.listaDeEspecialidad = []; 
    $scope.listaRamosAgentes =[];            
};
$('#yui_css1').click(function (){$scope.setTipoPrestador(4);$scope.argsPrestadores.conEspecialidad=false; $('#opc_1').siblings('li').removeClass('active'); $('#opc_1').addClass('active'); });    
$('#yui_css2').click(function (){$scope.setTipoPrestador(0); $('#opc_2').siblings('li').removeClass('active'); $('#opc_2').addClass('active'); });
$('#yui_css3').click(function (){$scope.setTipoPrestador(10);$('#opc_3').siblings('li').removeClass('active'); $('#opc_3').addClass('active'); });
$('#yui_css4').click(function (){$scope.setTipoPrestador(9);});                   
}]);  
//Seccion de script utilados para alloyui    
YUI().use('aui-tabview',function(Y){new Y.TabView({srcNode: '#myTab'}).render();});
//Seccion de script de jquery para los eventos provocados en el front por el usuario
$(document).ready(function(){$('ul li').click(function(){$(this).siblings('li').removeClass('active');$(this).addClass('active');});});
$('.linkeditar').bind('click', function(e) {e.preventDefault();});    
function initMap(){};
</script>
